"use strict";angular.module("dndsheetApp",["ngCookies","ngResource","ngSanitize","ui.router","ui.bootstrap"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(a,b,c){b.otherwise("/"),c.html5Mode(!0)}]),angular.module("dndsheetApp").controller("MainCtrl",["$scope","$http",function(a,b){var c=function(a,b){this.val=a,this.shorthand=b,this.getModifier=function(){return Math.floor((this.val-10)/2)}};a.data={abs:{Strength:new c(12,"STR"),Dexterity:new c(17,"DEX"),Constitution:new c(14,"CON"),Intelligence:new c(6,"INT"),Wisdom:new c(15,"WIS"),Charisma:new c(17,"CHA")},baseHP:36,tempHP:0,totalHP:0,currentHP:0,lethalDamage:0,nonlethalDamage:0,Speed:0,BaseAC:10,NaturalArmor:2,Fortitude:0,Reflex:0,Will:0,LVL:3,BAB:1,SR:0,CMB:0,CMD:0,Name:"",Homeland:"",Deity:"",Skills:[],Feats:[1351,1460],Items:[],Spells:[]},a.allFeats=[],a.selectedFeat="",b.get("/api/feats/").then(function(b){angular.forEach(b.data,function(b){a.allFeats.push(b)})}),a.feats=[];for(var d=a.data.Feats.length-1;d>=0;d--)b.get("/api/feats/"+a.data.Feats[d]).success(function(b){a.feats.push(b[0])});a.addFeat=function(b){a.data.Feats.push(parseInt(b.id)),a.feats.push(b)},a.GetModifier=function(a){return Math.floor((a-10)/2)},a.updateHP=function(){return a.data.totalHP-(parseInt(a.data.lethalDamage)+parseInt(a.data.nonlethalDamage))},a.calcHP=function(){a.data.totalHP=a.data.baseHP+a.data.abs.Constitution.getModifier()*a.data.LVL},a.calcInit=function(){return a.data.abs.Dexterity.getModifier()},a.calcAC=function(){return a.data.BaseAC+a.data.NaturalArmor+a.data.abs.Dexterity.getModifier()}}]),angular.module("dndsheetApp").config(["$stateProvider",function(a){a.state("main",{url:"/",templateUrl:"app/main/main.html",controller:"MainCtrl"})}]),angular.module("dndsheetApp").factory("Modal",["$rootScope","$modal",function(a,b){function c(c,d){var e=a.$new();return c=c||{},d=d||"modal-default",angular.extend(e,c),b.open({templateUrl:"components/modal/modal.html",windowClass:d,scope:e})}return{confirm:{"delete":function(a){return a=a||angular.noop,function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{dismissable:!0,title:"Confirm Delete",html:"<p>Are you sure you want to delete <strong>"+e+"</strong> ?</p>",buttons:[{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-danger"),b.result.then(function(b){a.apply(b,d)})}}}}}]),angular.module("dndsheetApp").controller("NavbarCtrl",["$scope","$location",function(a,b){a.menu=[{title:"Home",link:"/"}],a.isCollapsed=!0,a.isActive=function(a){return a===b.path()}}]),angular.module("dndsheetApp").run(["$templateCache",function(a){a.put("app/main/main.html",'<div ng-include="\'components/navbar/navbar.html\'"></div><header><div class=container><div class=row><div class=col-md-4><img src="http://placehold.it/350x150&text=An Awesome CS"></div><div class=col-md-8><div class=row><div class=col-md-5></div><div class=col-md-2></div><div class=col-md-5></div></div><div class=row><div class=col-md-6></div><div class=col-md-3></div><div class=col-md-3></div></div><div class=row><div class=col-md-3></div><div class=col-md-1></div><div class=col-md-1></div><div class=col-md-1></div><div class=col-md-1></div><div class=col-md-1></div><div class=col-md-2></div><div class=col-md-2></div></div></div></div></div></header><br><div class=container><div class=row><div class=col-md-6><!--StatBlock--><div class=row><div class=col-sm-6><div ng-repeat="(stat, score) in data.abs"><div class="col-xs-12 col-sm-6 statName">{{stat}}</div><div class="col-xs-6 col-sm-3 statInput"><div class=innerStat><input class="form-control input-md" ng-model=score.val value="{{score.val}}"></div></div><div class="col-xs-6 col-sm-3"><div class=innerStat>{{score.getModifier()}}</div></div></div></div><!-- Hitpoint data & Init --><div class=col-sm-6><div class=row><div class="col-xs-3 statName fontMedium">Total HP</div><div class="col-xs-3 statInput"><div class=innerStat>{{calcHP()}}</div></div><div class="col-xs-3 statName fontMedium">Current HP</div><div class=col-xs-3><div class=innerStat>{{updateHP()}}</div></div></div><div class=row><div class="col-xs-3 statName fontSmall">Lethal Damage</div><div class="col-xs-3 statInput"><div class=innerStat><input class="form-control input-md" ng-model=data.lethalDamage value="{{data.lethalDamage}}"></div></div><div class="col-xs-3 statName fontSmall">Nonlethal Damage</div><div class="col-xs-3 statInput"><div class=innerStat><input class="form-control input-md" ng-model=data.nonlethalDamage value="{{data.nonlethalDamage}}"></div></div></div><div class=row><div class="col-xs-3 statName fontMedium">Initiative</div><div class="col-xs-3 statInput"><div class=innerStat>{{calcInit()}}</div></div><div class="col-xs-3 statName">AC</div><div class="col-xs-3 statInput"><div class=innerStat>{{calcAC()}}</div></div></div></div></div></div><div class=col-md-6><!-- {{thefeats}} --></div></div><div class=row><div class="col-sm-6 featSection"><h2 class=statName style=text-align:center>Feats</h2><div ng-repeat="feat in feats" ng-init="isCollapsed = true"><span ng-click="isCollapsed = !isCollapsed">{{feat.name}}</span><div collapse=isCollapsed><div class="well well-lg">{{feat.benefit}}</div></div></div><br><input ng-model=selectFeat typeahead="feat.id as feat.name for feat in allFeats | filter:$viewValue | limitTo:8" placeholder="New Feat" class=form-control typeahead-on-select=addFeat($item)></div><div class=col-sm-4></div><div class=col-sm-4></div></div><footer class=footer><div class=container></div></footer></div>'),a.put("components/modal/modal.html",'<div class=modal-header><button ng-if=modal.dismissable type=button ng-click=$dismiss() class=close>&times;</button><h4 ng-if=modal.title ng-bind=modal.title class=modal-title></h4></div><div class=modal-body><p ng-if=modal.text ng-bind=modal.text></p><div ng-if=modal.html ng-bind-html=modal.html></div></div><div class=modal-footer><button ng-repeat="button in modal.buttons" ng-class=button.classes ng-click=button.click($event) ng-bind=button.text class=btn></button></div>'),a.put("components/navbar/navbar.html",'<div class="navbar navbar-default navbar-static-top" ng-controller=NavbarCtrl><div class=container><div class=navbar-header><button class=navbar-toggle type=button ng-click="isCollapsed = !isCollapsed"><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a href="/" class=navbar-brand>dndsheet</a></div><div collapse=isCollapsed class="navbar-collapse collapse" id=navbar-main><ul class="nav navbar-nav"><li ng-repeat="item in menu" ng-class="{active: isActive(item.link)}"><a ng-href={{item.link}}>{{item.title}}</a></li></ul></div></div></div>')}]);